# Mapa de Histórias do Usuário - LinkSentinel

Este documento descreve as funcionalidades do LinkSentinel da perspectiva do usuário, organizadas em atividades, passos e histórias. Cada história inclui critérios de aceitação para guiar o desenvolvimento e os testes.

---

## Atividade 1: Gerenciar Conta de Usuário

| Passo 1.1: Registrar no Sistema | Passo 1.2: Autenticar no Sistema | Passo 1.3: Gerenciar Perfil |
| :------------------------------ | :--------------------------------- | :-------------------------- |
| **H1.1.1: Registro com E-mail e Senha** <br> *Como um novo visitante, quero me registrar com e-mail e senha para ter acesso às funcionalidades do sistema.* <br> - **Critérios:** <br>  - Deve ser possível inserir e-mail, senha e confirmação de senha. <br>  - O e-mail deve ter formato válido. <br>  - O e-mail não pode estar previamente cadastrado. <br>  - A senha deve atender a critérios mínimos de segurança (ex: 8 caracteres). <br>  - A senha e a confirmação devem ser iguais. <br>  - Após o sucesso, o usuário deve ser autenticado ou direcionado para login. <br>  - Em caso de erro (email inválido/existente, senhas não conferem), mostrar mensagem clara. | **H1.2.1: Login com E-mail e Senha** <br> *Como um usuário registrado, quero fazer login com meu e-mail e senha para acessar minhas coleções e links.* <br> - **Critérios:** <br>  - Deve haver campos para e-mail e senha. <br>  - Ao submeter e-mail/senha válidos, o usuário é direcionado para a página principal (dashboard). <br>  - Ao submeter e-mail/senha inválidos, mostrar mensagem de erro. | **H1.3.1: Visualizar Perfil** <br> *Como um usuário logado, quero poder visualizar meus dados de perfil.* <br> - **Critérios:** <br>  - Deve haver uma seção/página onde o e-mail (ou nome, se adicionarmos) do usuário é exibido. |
| **H1.1.2: Registro com Google (Opcional/Futuro)** <br> *Como um novo visitante, quero ter a opção de me registrar usando minha conta Google para um processo mais rápido.* <br> - **Critérios:** <br>  - Deve haver um botão "Registrar com Google". <br>  - Ao clicar, o fluxo OAuth2 do Google deve ser iniciado. <br>  - Após sucesso, o usuário é cadastrado e logado. | **H1.2.2: Solicitar Redefinição de Senha** <br> *Como um usuário registrado, quero poder solicitar a redefinição da minha senha caso eu a esqueça.* <br> - **Critérios:** <br>  - Deve haver um link "Esqueci minha senha" na tela de login. <br>  - Ao clicar e inserir um e-mail válido e cadastrado, um link de redefinição é enviado. <br>  - O link de redefinição deve ser válido por um tempo limitado. <br>  - Acessando o link, o usuário pode definir uma nova senha. | **H1.3.2: Alterar Senha** <br> *Como um usuário logado, quero poder alterar minha senha atual.* <br> - **Critérios:** <br>  - O usuário deve fornecer a senha atual, a nova senha e a confirmação. <br>  - A senha atual deve ser validada. <br>  - A nova senha deve atender aos critérios de segurança. <br>  - A nova senha e a confirmação devem ser iguais. <br>  - Mensagens de sucesso/erro devem ser exibidas. |
|                                 | **H1.2.3: Logout** <br> *Como um usuário logado, quero poder fazer logout do sistema para proteger minha conta.* <br> - **Critérios:** <br>  - Deve haver um botão/link "Sair" ou "Logout". <br>  - Ao clicar, a sessão do usuário é encerrada e ele é direcionado para a tela de login ou inicial. |                             |

---

## Atividade 2: Gerenciar Coleções de Links

| Passo 2.1: Criar Coleção | Passo 2.2: Listar/Visualizar Coleções | Passo 2.3: Editar Coleção | Passo 2.4: Excluir Coleção |
| :----------------------- | :------------------------------------ | :------------------------ | :------------------------- |
| **H2.1.1: Criar Nova Coleção** <br> *Como um usuário logado, quero criar uma nova coleção de links, fornecendo um nome, para organizar minhas URLs.* <br> - **Critérios:** <br>  - O usuário deve poder inserir um nome para a coleção. <br>  - O nome não pode estar em branco. <br>  - O nome não pode ser duplicado para o mesmo usuário. <br>  - Ao criar, a nova coleção deve aparecer na lista de coleções. | **H2.2.1: Listar Coleções** <br> *Como um usuário logado, quero visualizar uma lista de todas as minhas coleções com seus nomes.* <br> - **Critérios:** <br>  - Uma lista/painel deve exibir todas as coleções do usuário. <br>  - Se não houver coleções, mostrar uma mensagem indicativa. | **H2.3.1: Renomear Coleção** <br> *Como um usuário logado, quero poder renomear uma coleção existente para melhor identificá-la.* <br> - **Critérios:** <br>  - O usuário deve poder selecionar uma coleção e editar seu nome. <br>  - As regras de nome (não vazio, não duplicado) se aplicam. <br>  - O nome atualizado deve aparecer na lista. | **H2.4.1: Excluir Coleção** <br> *Como um usuário logado, quero poder excluir uma coleção que não é mais necessária, juntamente com todos os links contidos nela (após confirmação).* <br> - **Critérios:** <br>  - O usuário deve poder selecionar uma coleção para exclusão. <br>  - O sistema deve solicitar confirmação antes de excluir. <br>  - Após confirmar, a coleção e todos os seus links são removidos. <br>  - A coleção não deve mais aparecer na lista. |
|                          | **H2.2.2: Visualizar Links da Coleção** <br> *Como um usuário logado, quero poder selecionar uma coleção para ver os links dentro dela.* <br> - **Critérios:** <br>  - Ao clicar/selecionar uma coleção, uma área deve exibir os links pertencentes a ela. <br>  - Para cada link, mostrar pelo menos a URL e a descrição. |                           |                            |

---

## Atividade 3: Adicionar e Verificar Links On-Demand

| Passo 3.1: Adicionar Link | Passo 3.2: Solicitar Verificação Imediata | Passo 3.3: Visualizar Resultado da Verificação |
| :------------------------ | :---------------------------------------- | :--------------------------------------------- |
| **H3.1.1: Adicionar Link Único** <br> *Como um usuário logado, quero adicionar um novo link a uma coleção específica, fornecendo a URL e uma descrição opcional.* <br> - **Critérios:** <br>  - O usuário deve estar em uma coleção selecionada. <br>  - O usuário fornece uma URL. <br>  - A URL deve ser validada (formato básico). <br>  - A URL não pode já existir *nessa* coleção. <br>  - A descrição é opcional. <br>  - Ao adicionar, o link aparece na lista da coleção. <br>  - O sistema *pode* (a definir) iniciar uma verificação imediata (H3.2.1). | **H3.2.1: Iniciar Verificação Imediata** <br> *Como um usuário logado, ao adicionar um link ou ao visualizar um link existente, quero poder solicitar uma verificação imediata do seu estado.* <br> - **Critérios:** <br>  - Deve haver um botão/ação "Verificar Agora" para um link. <br>  - Ao acionar, o sistema inicia o processo de verificação (HTTP, SSL, Meta, Tempo). <br>  - Enquanto verifica, o sistema pode mostrar um status "Verificando...". <br>  - Ao concluir, o resultado é atualizado (H3.3.1). | **H3.3.1: Visualizar Resultado da Verificação** <br> *Como um usuário logado, após uma verificação, quero visualizar um relatório com o status HTTP do link, informações do certificado SSL (se aplicável), metadados básicos da página (título, descrição) e o tempo de resposta.* <br> - **Critérios:** <br>  - Na visualização do link, os campos de Status HTTP, Validade SSL, Título, Descrição e Tempo de Resposta são exibidos com os dados da última verificação. <br>  - Os dados devem ser apresentados de forma clara (ex: ícones de status, datas). |
| **H3.1.2: Adicionar Múltiplos Links (Opcional/Futuro)** <br> *Como um usuário logado, quero poder adicionar múltiplos links de uma vez (ex: colando uma lista de URLs) a uma coleção.* <br> - **Critérios:** <br>  - Deve haver uma área para colar uma lista de URLs. <br>  - O sistema deve processar cada URL, validá-la e adicioná-la se não existir. <br>  - O sistema deve fornecer um resumo do processo (X links adicionados, Y falharam). |                                           |                                                |

---

## Atividade 4: Analisar Riscos de Links (Phishing)

| Passo 4.1: Solicitar Análise de Risco | Passo 4.2: Visualizar Análise de Risco |
| :------------------------------------- | :------------------------------------- |
| **H4.1.1: Análise Automática na Verificação** <br> *Como um usuário logado, ao adicionar ou verificar um link, quero que o sistema realize uma análise de risco de phishing.* <br> - **Critérios:** <br>  - O processo de **Análise de Phishing** é disparado sempre que uma **Verificação de Link** (H3.2.1) é realizada. <br>  - O sistema consulta as blacklists configuradas. <br>  - O sistema aplica as heurísticas de URL. <br>  - O resultado é salvo junto com o **Relatório de Verificação**. | **H4.2.1: Visualizar Score de Risco** <br> *Como um usuário logado, quero visualizar o resultado da análise de phishing, incluindo um score de risco (Baixo, Médio, Alto) e os motivos (ex: detectado em blacklist, URL suspeita).* <br> - **Critérios:** <br>  - Na visualização do link (junto com H3.3.1), o **Score de Risco de Phishing** é exibido (ex: com um ícone de escudo colorido). <br>  - Deve ser possível ver os principais fatores que levaram àquele score (ex: "URL contém caracteres suspeitos", "Link encontrado na Blacklist X"). |

---

## Atividade 5: Monitorar Links Agendados

| Passo 5.1: Configurar Monitoramento | Passo 5.2: Receber Notificações |
| :---------------------------------- | :------------------------------ |
| **H5.1.1: Ativar/Desativar Monitoramento por Coleção** <br> *Como um usuário logado, quero poder ativar/desativar o monitoramento agendado (ex: diário, semanal) para uma coleção de links inteira.* <br> - **Critérios:** <br>  - Nas configurações da coleção, deve haver uma opção para ligar/desligar o monitoramento. <br>  - O usuário pode escolher a frequência (ex: Diário, Semanal). <br>  - O sistema deve executar as verificações (incluindo phishing) na frequência definida para todos os links da coleção. | **H5.2.1: Notificação de Link Quebrado** <br> *Como um usuário logado, quero ser notificado (via plataforma e/ou e-mail) quando um link monitorado se tornar indisponível (ex: erro 404, erro de servidor).* <br> - **Critérios:** <br>  - Se uma verificação agendada detectar um link que estava OK e agora está quebrado, uma notificação é gerada. <br>  - As notificações devem ser visíveis em uma área do sistema. <br>  - (Opcional) Notificações por e-mail devem ser enviadas se o usuário configurar. |
|                                     | **H5.2.2: Notificação de Risco de Phishing** <br> *Como um usuário logado, quero ser notificado se um link monitorado for classificado com alto risco de phishing após uma verificação agendada.* <br> - **Critérios:** <br>  - Se uma verificação agendada detectar um link com Score Alto, uma notificação é gerada. <br>  - As notificações devem indicar qual link é suspeito. |

---

## Atividade 6: Visualizar Históricos e Relatórios

| Passo 6.1: Visualizar Histórico de um Link | Passo 6.2: Visualizar Relatório da Coleção |
| :----------------------------------------- | :----------------------------------------- |
| **H6.1.1: Acessar Histórico do Link** <br> *Como um usuário logado, quero poder visualizar o histórico de verificações de um link específico, incluindo data/hora, status HTTP e score de risco de phishing de cada verificação.* <br> - **Critérios:** <br>  - Na visualização de um link, deve haver uma opção para ver seu histórico. <br>  - O histórico deve ser exibido em ordem cronológica (mais recente primeiro). <br>  - Cada entrada deve mostrar claramente a data, o status e o score daquela verificação. | **H6.2.1: Acessar Relatório da Coleção** <br> *Como um usuário logado, quero poder visualizar um relatório consolidado para uma coleção de links, com estatísticas (ex: % de links ativos, % de links com SSL válido, distribuição de scores de risco de phishing).* <br> - **Critérios:** <br>  - Na visualização de uma coleção, deve haver uma opção para ver seu relatório. <br>  - O relatório deve exibir gráficos ou números claros com as estatísticas baseadas na última verificação de cada link da coleção. |

---